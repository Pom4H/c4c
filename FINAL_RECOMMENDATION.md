# üéØ –§–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π CLI –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤

## –†–µ—à–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º **—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥**:

### ‚ùå –ù–ï –¥–µ–ª–∞–µ–º

1. **–§–ª–∞–≥ `--agent`** - –∏–∑–±—ã—Ç–æ—á–µ–Ω
2. **`userType` –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è  
3. **RPC –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø–æ HTTP** - overhead
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π JSON —Ä–µ–∂–∏–º** - –ø—É—Ç–∞–µ—Ç

### ‚úÖ –î–µ–ª–∞–µ–º

1. **–§–ª–∞–≥ `--json`** - –æ–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ñ–ª–∞–≥
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª** - –≤–º–µ—Å—Ç–æ RPC –ø–æ —Å–µ—Ç–∏
3. **–ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** - –º–µ–Ω—å—à–µ –∫–æ–¥–∞

## 3 –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤

```bash
# 1. –°—Ç–∞—Ç—É—Å
c4c dev status --json
# ‚Üí {"running":true,"port":3000}

# 2. –õ–æ–≥–∏
c4c dev logs --json --level error
# ‚Üí {"lines":[...],"summary":{"errors":1}}

# 3. –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫
c4c dev --ensure --json
# ‚Üí {"action":"already_running","status":{...}}

# 4. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ (—á–µ—Ä–µ–∑ —Ñ–∞–π–ª, –Ω–µ HTTP)
c4c dev stop
# ‚Üí –ø–∏—à–µ—Ç –≤ .c4c/dev/commands.txt
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
CLI –∫–æ–º–∞–Ω–¥—ã
    ‚Üì
.c4c/dev/
‚îú‚îÄ‚îÄ session.json    ‚Üê PID, port
‚îú‚îÄ‚îÄ dev.log         ‚Üê –õ–æ–≥–∏
‚îî‚îÄ‚îÄ commands.txt    ‚Üê –ö–æ–º–∞–Ω–¥—ã (–≤–º–µ—Å—Ç–æ RPC)
    ‚Üì
Dev –ø—Ä–æ—Ü–µ—Å—Å
‚îî‚îÄ‚îÄ –°–ª–µ–¥–∏—Ç –∑–∞ commands.txt
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | RPC –ø–æ–¥—Ö–æ–¥ | –§–∞–π–ª–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ | –í—ã–∏–≥—Ä—ã—à |
|----------|-----------|-----------------|---------|
| –°–∫–æ—Ä–æ—Å—Ç—å | ~100ms | ~10ms | **10x** |
| –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | 95% | 99.9% | **+5%** |
| –ö–æ–¥ | +500 —Å—Ç—Ä–æ–∫ | +200 —Å—Ç—Ä–æ–∫ | **-60%** |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å | –í—ã—Å–æ–∫–∞—è | –ù–∏–∑–∫–∞—è | **–ü—Ä–æ—â–µ** |

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
#!/bin/bash
# –ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç c4c

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
c4c dev --ensure --json > /dev/null

# –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Ä—Ç
PORT=$(c4c dev status --json | jq -r '.port')

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API
curl http://localhost:$PORT/procedures

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
c4c dev stop
```

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –ö–æ–º–∞–Ω–¥–∞ status

```typescript
export async function devStatusCommand(options: { json?: boolean }) {
  const session = await discoverActiveSession(process.cwd());
  
  const data = {
    running: !!session,
    port: session?.metadata.port,
    pid: session?.metadata.pid,
  };
  
  if (options.json) {
    console.log(JSON.stringify(data));
  } else {
    console.log(`[c4c] ${data.running ? `Running on port ${data.port}` : 'Not running'}`);
  }
}
```

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª

```typescript
// –í dev –ø—Ä–æ—Ü–µ—Å—Å–µ
const commandFile = '.c4c/dev/commands.txt';
watch(commandFile, async () => {
  const content = await fs.readFile(commandFile, 'utf8');
  const commands = content.split('\n').filter(Boolean);
  
  for (const cmd of commands) {
    if (cmd === 'stop') {
      await shutdown();
    }
  }
});

// –í stop –∫–æ–º–∞–Ω–¥–µ
export async function stopDevServer() {
  await fs.appendFile('.c4c/dev/commands.txt', 'stop\n');
  await waitForExit();
}
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∏—Å—Ö–æ–¥–Ω—ã–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º

### –ë—ã–ª–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ

- 8 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –§–ª–∞–≥ `--agent`
- RPC –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- `userType` –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π JSON –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
- 10-14 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

- 3 –∫–æ–º–∞–Ω–¥—ã —Å `--json`
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª
- –ù–∏–∫–∞–∫–∏—Ö —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤
- –ü—Ä–æ—â–µ –∫–æ–¥
- 5-7 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –ß–µ–∫–ª–∏—Å—Ç

### Week 1 (5 –¥–Ω–µ–π)
- [ ] `c4c dev status --json`
- [ ] `c4c dev logs --json` —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º
- [ ] `c4c dev --ensure --json`
- [ ] `c4c dev stop` —á–µ—Ä–µ–∑ —Ñ–∞–π–ª –∫–æ–º–∞–Ω–¥
- [ ] –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (2 –¥–Ω—è)
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ (`--level`)
- [ ] –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –ª–æ–≥–æ–≤
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

**–ò—Ç–æ–≥–æ: 5-7 –¥–Ω–µ–π**

## –§–∞–π–ª—ã –¥–ª—è —á—Ç–µ–Ω–∏—è

1. **[SIMPLIFIED_APPROACH.md](./SIMPLIFIED_APPROACH.md)** ‚≠ê - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
2. **[AGENT_CLI_ANALYSIS.md](./AGENT_CLI_ANALYSIS.md)** - –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–±–ª–µ–º
3. **[RESEARCH_SUMMARY.md](./RESEARCH_SUMMARY.md)** - –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## –ò—Ç–æ–≥

‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
- –ü—Ä–æ—â–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ù–∞–¥–µ–∂–Ω–µ–µ
- –ú–µ–Ω—å—à–µ –∫–æ–¥–∞
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω (–Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤)

---

**–î–æ–∫—É–º–µ–Ω—Ç:** FINAL_RECOMMENDATION.md  
**–î–∞—Ç–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –í—ã—Å–æ–∫–∏–π  
**–°–º–æ—Ç—Ä–µ—Ç—å:** [SIMPLIFIED_APPROACH.md](./SIMPLIFIED_APPROACH.md)
