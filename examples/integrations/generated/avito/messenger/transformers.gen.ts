// This file is auto-generated by @hey-api/openapi-ts

import type { GetMessagesV3Response } from './types.gen'

const messageContentSchemaResponseTransformer = (data: any) => {
  if (data.call) {
    if (data.call.target_user_id) {
      data.call.target_user_id = BigInt(data.call.target_user_id.toString())
    }
  }
  return data
}

const messageQuoteSchemaResponseTransformer = (data: any) => {
  if (data.author_id) {
    data.author_id = BigInt(data.author_id.toString())
  }
  if (data.content) {
    data.content = messageContentSchemaResponseTransformer(data.content)
  }
  if (data.created) {
    data.created = BigInt(data.created.toString())
  }
  return data
}

const messagesSchemaResponseTransformer = (data: any) => {
  data = data.map((item: any) => {
    if (item.author_id) {
      item.author_id = BigInt(item.author_id.toString())
    }
    if (item.content) {
      item.content = messageContentSchemaResponseTransformer(item.content)
    }
    if (item.created) {
      item.created = BigInt(item.created.toString())
    }
    if (item.quote) {
      item.quote = messageQuoteSchemaResponseTransformer(item.quote)
    }
    return item
  })
  return data
}

export const getMessagesV3ResponseTransformer = async (
  data: any
): Promise<GetMessagesV3Response> => {
  data = messagesSchemaResponseTransformer(data)
  return data
}
